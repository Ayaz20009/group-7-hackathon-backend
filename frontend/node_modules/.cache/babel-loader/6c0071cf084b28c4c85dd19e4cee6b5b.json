{"ast":null,"code":"var _jsxFileName = \"/Users/scapista/code/hackathon/group-7-hackathon-backend/frontend/src/components/ProjectScreen.js\";\nimport React from \"react\";\nimport styled from \"@emotion/styled\";\nimport useTasks from \"../graphql/useTasks\";\nimport TaskContent from \"./TaskContent\";\nimport TaskDetailModal from \"./TaskDetailModal\";\nimport EditPermissionsModal from \"./EditPermissionsModal\";\nimport Card from \"./Card\";\nimport Button from \"@leafygreen-ui/button\";\nimport ButtonGroup from \"./ButtonGroup\";\nimport TextInput from \"@leafygreen-ui/text-input\";\nimport { uiColors } from \"@leafygreen-ui/palette\";\nimport Loading from \"./Loading\";\nexport default function ProjectScreen(_ref) {\n  let {\n    currentProject,\n    isEditingPermissions,\n    setIsEditingPermissions\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, currentProject && /*#__PURE__*/React.createElement(TaskList, {\n    currentProject: currentProject,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(EditPermissionsModal, {\n    isEditingPermissions: isEditingPermissions,\n    setIsEditingPermissions: setIsEditingPermissions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }));\n}\nconst Container = styled.div`\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  grid-area: main;\n  background: ${uiColors.gray.light2};\n`;\n\nfunction useDraftTask(_ref2) {\n  let {\n    addTask\n  } = _ref2;\n  const [draftTask, setDraftTask] = React.useState(null);\n\n  const createDraftTask = () => {\n    setDraftTask({\n      name: \"\"\n    });\n  };\n\n  const deleteDraftTask = () => {\n    setDraftTask(null);\n  };\n\n  const setDraftTaskName = name => {\n    setDraftTask({\n      name\n    });\n  };\n\n  const submitDraftTask = async () => {\n    await addTask(draftTask);\n    setDraftTask(null);\n  };\n\n  return {\n    draftTask,\n    createDraftTask,\n    deleteDraftTask,\n    setDraftTaskName,\n    submitDraftTask\n  };\n}\n\nfunction TaskList(_ref3) {\n  let {\n    currentProject\n  } = _ref3;\n  const {\n    tasks,\n    addTask,\n    loading\n  } = useTasks(currentProject);\n\n  const getTaskById = id => tasks.find(task => task._id === id);\n\n  const [selectedTaskId, setSelectedTaskId] = React.useState(null);\n  const selectedTask = getTaskById(selectedTaskId);\n  const {\n    draftTask,\n    createDraftTask,\n    deleteDraftTask,\n    setDraftTaskName,\n    submitDraftTask\n  } = useDraftTask({\n    addTask\n  });\n  return loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, tasks.length === 0 ? /*#__PURE__*/React.createElement(TaskListHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"No Tasks\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Click the button below to add a task to this project\")) : tasks.map(task => /*#__PURE__*/React.createElement(ListItem, {\n    key: task._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    onClick: () => setSelectedTaskId(task._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TaskContent, {\n    task: task,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  })))), draftTask ? /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    type: \"text\",\n    \"aria-labelledby\": \"task description\",\n    placeholder: \"Task\",\n    onChange: e => {\n      setDraftTaskName(e.target.value);\n    },\n    value: draftTask.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ButtonGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    disabled: !draftTask.name,\n    onClick: () => {\n      submitDraftTask();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, \"Add\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    onClick: () => {\n      deleteDraftTask();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, \"Cancel\")))) : /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => createDraftTask(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, \"Add Task\")))), /*#__PURE__*/React.createElement(TaskDetailModal, {\n    project: currentProject,\n    task: selectedTask,\n    unselectTask: setSelectedTaskId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }));\n}\n\nconst List = styled.ul`\n  list-style-type: none;\n  padding-left: 0;\n  width: 400px;\n`;\nconst ListItem = styled.li`\n  :not(:first-of-type) {\n    margin-top: 8px;\n  }\n`;\nconst TaskListHeader = styled.div`\n  line-height: 24px;\n  letter-spacing: 0px;\n  text-align: center;\n  font-size: 16px;\n`;","map":{"version":3,"names":["React","styled","useTasks","TaskContent","TaskDetailModal","EditPermissionsModal","Card","Button","ButtonGroup","TextInput","uiColors","Loading","ProjectScreen","currentProject","isEditingPermissions","setIsEditingPermissions","Container","div","gray","light2","useDraftTask","addTask","draftTask","setDraftTask","useState","createDraftTask","name","deleteDraftTask","setDraftTaskName","submitDraftTask","TaskList","tasks","loading","getTaskById","id","find","task","_id","selectedTaskId","setSelectedTaskId","selectedTask","length","map","e","target","value","List","ul","ListItem","li","TaskListHeader"],"sources":["/Users/scapista/code/hackathon/group-7-hackathon-backend/frontend/src/components/ProjectScreen.js"],"sourcesContent":["import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport useTasks from \"../graphql/useTasks\";\nimport TaskContent from \"./TaskContent\";\nimport TaskDetailModal from \"./TaskDetailModal\";\nimport EditPermissionsModal from \"./EditPermissionsModal\";\nimport Card from \"./Card\";\nimport Button from \"@leafygreen-ui/button\";\nimport ButtonGroup from \"./ButtonGroup\";\nimport TextInput from \"@leafygreen-ui/text-input\";\nimport { uiColors } from \"@leafygreen-ui/palette\";\n\nimport Loading from \"./Loading\";\n\nexport default function ProjectScreen({\n  currentProject,\n  isEditingPermissions,\n  setIsEditingPermissions,\n}) {\n  return (\n    <Container>\n      {currentProject && <TaskList currentProject={currentProject} />}\n      <EditPermissionsModal\n        isEditingPermissions={isEditingPermissions}\n        setIsEditingPermissions={setIsEditingPermissions}\n      />\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  grid-area: main;\n  background: ${uiColors.gray.light2};\n`;\n\nfunction useDraftTask({ addTask }) {\n  const [draftTask, setDraftTask] = React.useState(null);\n  const createDraftTask = () => {\n    setDraftTask({ name: \"\" });\n  };\n  const deleteDraftTask = () => {\n    setDraftTask(null);\n  };\n  const setDraftTaskName = (name) => {\n    setDraftTask({ name });\n  };\n  const submitDraftTask = async () => {\n    await addTask(draftTask);\n    setDraftTask(null);\n  };\n  return {\n    draftTask,\n    createDraftTask,\n    deleteDraftTask,\n    setDraftTaskName,\n    submitDraftTask,\n  };\n}\n\nfunction TaskList({ currentProject }) {\n  const { tasks, addTask, loading } = useTasks(currentProject);\n  const getTaskById = (id) => tasks.find((task) => task._id === id);\n  const [selectedTaskId, setSelectedTaskId] = React.useState(null);\n  const selectedTask = getTaskById(selectedTaskId);\n\n  const {\n    draftTask,\n    createDraftTask,\n    deleteDraftTask,\n    setDraftTaskName,\n    submitDraftTask,\n  } = useDraftTask({ addTask });\n\n  return loading ? (\n    <Loading />\n  ) : (\n    <>\n      <List>\n        {tasks.length === 0 ? (\n          <TaskListHeader>\n            <h1>No Tasks</h1>\n            <p>Click the button below to add a task to this project</p>\n          </TaskListHeader>\n        ) : (\n          tasks.map((task) => (\n            <ListItem key={task._id}>\n              <Card onClick={() => setSelectedTaskId(task._id)}>\n                <TaskContent task={task} />\n              </Card>\n            </ListItem>\n          ))\n        )}\n        {draftTask ? (\n          <ListItem>\n            <Card>\n              <TextInput\n                type=\"text\"\n                aria-labelledby=\"task description\"\n                placeholder=\"Task\"\n                onChange={(e) => {\n                  setDraftTaskName(e.target.value);\n                }}\n                value={draftTask.name}\n              />\n              <ButtonGroup>\n                <Button\n                  variant=\"primary\"\n                  disabled={!draftTask.name}\n                  onClick={() => {\n                    submitDraftTask();\n                  }}\n                >\n                  Add\n                </Button>\n                <Button\n                  variant=\"danger\"\n                  onClick={() => {\n                    deleteDraftTask();\n                  }}\n                >\n                  Cancel\n                </Button>\n              </ButtonGroup>\n            </Card>\n          </ListItem>\n        ) : (\n          <ListItem>\n            <Card>\n              <Button onClick={() => createDraftTask()}>Add Task</Button>\n            </Card>\n          </ListItem>\n        )}\n      </List>\n      <TaskDetailModal\n        project={currentProject}\n        task={selectedTask}\n        unselectTask={setSelectedTaskId}\n      />\n    </>\n  );\n}\n\nconst List = styled.ul`\n  list-style-type: none;\n  padding-left: 0;\n  width: 400px;\n`;\nconst ListItem = styled.li`\n  :not(:first-of-type) {\n    margin-top: 8px;\n  }\n`;\n\nconst TaskListHeader = styled.div`\n  line-height: 24px;\n  letter-spacing: 0px;\n  text-align: center;\n  font-size: 16px;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}