{"ast":null,"code":"/**\n * Module dependencies.\n */\nvar duplexer = require('duplexer2');\n\nvar PassThrough = require('stream').PassThrough;\n\nvar Readable = require('stream').PassThrough;\n\nvar objectAssign = require('object-assign');\n/**\n * Slice reference.\n */\n\n\nvar slice = [].slice;\n/**\n * Duplexer options.\n */\n\nvar defaultOpts = {\n  bubbleErrors: false,\n  objectMode: true\n};\n/**\n * Expose `pipe`.\n */\n\nmodule.exports = pipe;\n/**\n * Pipe.\n *\n * @param streams Array[Stream,...]\n * @param opts [Object]\n * @param cb [Function]\n * @return {Stream}\n * @api public\n */\n\nfunction pipe(streams, opts, cb) {\n  if (!Array.isArray(streams)) {\n    streams = slice.call(arguments);\n    opts = null;\n    cb = null;\n  }\n\n  var lastArg = streams[streams.length - 1];\n\n  if ('function' == typeof lastArg) {\n    cb = streams.splice(-1)[0];\n    lastArg = streams[streams.length - 1];\n  }\n\n  if ('object' == typeof lastArg && typeof lastArg.pipe != 'function') {\n    opts = streams.splice(-1)[0];\n  }\n\n  var first = streams[0];\n  var last = streams[streams.length - 1];\n  var ret;\n  opts = objectAssign({}, defaultOpts, opts);\n\n  if (!first) {\n    if (cb) process.nextTick(cb);\n    return new PassThrough(opts);\n  }\n\n  if (first.writable && last.readable) ret = duplexer(opts, first, last);else if (streams.length == 1) ret = new Readable(opts).wrap(streams[0]);else if (first.writable) ret = first;else if (last.readable) ret = last;else ret = new PassThrough(opts);\n  streams.forEach(function (stream, i) {\n    var next = streams[i + 1];\n    if (next) stream.pipe(next);\n    if (stream != ret) stream.on('error', ret.emit.bind(ret, 'error'));\n  });\n\n  if (cb) {\n    var ended = false;\n    ret.on('error', end);\n    last.on('finish', function () {\n      end();\n    });\n    last.on('close', function () {\n      end();\n    });\n\n    function end(err) {\n      if (ended) return;\n      ended = true;\n      cb(err);\n    }\n  }\n\n  return ret;\n}","map":{"version":3,"names":["duplexer","require","PassThrough","Readable","objectAssign","slice","defaultOpts","bubbleErrors","objectMode","module","exports","pipe","streams","opts","cb","Array","isArray","call","arguments","lastArg","length","splice","first","last","ret","process","nextTick","writable","readable","wrap","forEach","stream","i","next","on","emit","bind","ended","end","err"],"sources":["/Users/scapista/code/hackathon/group-7-hackathon-backend/frontend/node_modules/multipipe/index.js"],"sourcesContent":["\n/**\n * Module dependencies.\n */\n\nvar duplexer = require('duplexer2');\nvar PassThrough = require('stream').PassThrough;\nvar Readable = require('stream').PassThrough;\nvar objectAssign = require('object-assign');\n\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Duplexer options.\n */\n\nvar defaultOpts = {\n  bubbleErrors: false,\n  objectMode: true\n};\n\n/**\n * Expose `pipe`.\n */\n\nmodule.exports = pipe;\n\n/**\n * Pipe.\n *\n * @param streams Array[Stream,...]\n * @param opts [Object]\n * @param cb [Function]\n * @return {Stream}\n * @api public\n */\n\nfunction pipe(streams, opts, cb){\n  if (!Array.isArray(streams)) {\n    streams = slice.call(arguments);\n    opts = null;\n    cb = null;\n  }\n\n  var lastArg = streams[streams.length - 1];\n  if ('function' == typeof lastArg) {\n    cb = streams.splice(-1)[0];\n    lastArg = streams[streams.length - 1];\n  }\n  if ('object' == typeof lastArg && typeof lastArg.pipe != 'function') {\n    opts = streams.splice(-1)[0];\n  }\n  var first = streams[0];\n  var last = streams[streams.length - 1];\n  var ret;\n  opts = objectAssign({}, defaultOpts, opts)\n\n  if (!first) {\n    if (cb) process.nextTick(cb);\n    return new PassThrough(opts);\n  }\n  \n  if (first.writable && last.readable) ret = duplexer(opts, first, last);\n  else if (streams.length == 1) ret = new Readable(opts).wrap(streams[0]);\n  else if (first.writable) ret = first;\n  else if (last.readable) ret = last;\n  else ret = new PassThrough(opts);\n  \n  streams.forEach(function(stream, i){\n    var next = streams[i+1];\n    if (next) stream.pipe(next);\n    if (stream != ret) stream.on('error', ret.emit.bind(ret, 'error'));\n  });\n\n  if (cb) {\n    var ended = false;\n    ret.on('error', end);\n    last.on('finish', function(){ end() });\n    last.on('close', function(){ end() });\n    function end(err){\n      if (ended) return;\n      ended = true;\n      cb(err);\n    }\n  }\n\n  return ret;\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}